---

- name: include setup tasks
  include: setup.yml
  tags: ["rsyslog:setup", "setup"]

- name: include installation tasks
  include: install.yml
  tags: ["rsyslog:install", "install"]

- name: include general configuration tasks
  include: configure.yml
  tags: ["rsyslog:configure", "configure"]

- name: include local logging tasks
  include: local.yml
  tags: ["rsyslog:configure", "configure"]
  when: rsyslog_local_outputs | length

- name: include remote logging tasks
  include: remote.yml
  tags: ["rsyslog:configure", "configure"]
  when: rsyslog_remote_outputs | length

- name: include relay server configuration tasks
  include: relay.yml
  tags: ["rsyslog:relay", "relay"]
  when: rsyslog_remote_inputs | length

- name: include logrotate partial configuration tasks
  include: logrotate.yml
  tags: ["rsyslog:logrotate", "logrotate"]
  when: rsyslog_rotated_logs | length
