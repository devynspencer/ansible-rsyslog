{{ ansible_managed | comment }}

module(load="imuxsock")

{% if rsyslog_manage_journald %}
module(load="imuxsock" sysSock.use="on" sysSock.name="/run/systemd/journal/syslog")
{% endif %}

{% if rsyslog_enable_stats %}
module(load="impstats" interval="600" log.syslog="off" log.file="/var/log/stats.log")
{% endif %}

global(
	localHostname="{{ inventory_fqdn }}"
	preserveFQDN="on"
	workDirectory="{{ rsyslog_work_directory }}"
	debug.logFile="{{ rsyslog_debug_log }}"
)

$ActionFileDefaultTemplate {{ rsyslog_default_template }}

$WorkDirectory {{ rsyslog_work_dir }}

$IncludeConfig /etc/rsyslog.d/*.conf
